{"remainingRequest":"F:\\mp-project\\taigongthtm-project-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\mp-project\\taigongthtm-project-front\\src\\components\\yanzhengma.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\mp-project\\taigongthtm-project-front\\src\\components\\yanzhengma.vue","mtime":1640944908859},{"path":"F:\\mp-project\\taigongthtm-project-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648453574266},{"path":"F:\\mp-project\\taigongthtm-project-front\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1648453592739},{"path":"F:\\mp-project\\taigongthtm-project-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1648453572806},{"path":"F:\\mp-project\\taigongthtm-project-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648453574266},{"path":"F:\\mp-project\\taigongthtm-project-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1648453593268}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU0lkZW50aWZ5IiwKICBwcm9wczogewogICAgaWRlbnRpZnlDb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIjEyMzQiLAogICAgfSwKICAgIGZvbnRTaXplTWluOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjUsCiAgICB9LAogICAgZm9udFNpemVNYXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAzMCwKICAgIH0sCiAgICBiYWNrZ3JvdW5kQ29sb3JNaW46IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyNTUsCiAgICB9LAogICAgYmFja2dyb3VuZENvbG9yTWF4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjU1LAogICAgfSwKICAgIGNvbG9yTWluOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMCwKICAgIH0sCiAgICBjb2xvck1heDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDE2MCwKICAgIH0sCiAgICBsaW5lQ29sb3JNaW46IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMDAsCiAgICB9LAogICAgbGluZUNvbG9yTWF4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjU1LAogICAgfSwKICAgIGRvdENvbG9yTWluOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMCwKICAgIH0sCiAgICBkb3RDb2xvck1heDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDI1NSwKICAgIH0sCiAgICBjb250ZW50V2lkdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMTIsCiAgICB9LAogICAgY29udGVudEhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDMxLAogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOeUn+aIkOS4gOS4qumaj+acuuaVsAogICAgcmFuZG9tTnVtKG1pbiwgbWF4KSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7CiAgICB9LAogICAgLy8g55Sf5oiQ5LiA5Liq6ZqP5py655qE6aKc6ImyCiAgICByYW5kb21Db2xvcihtaW4sIG1heCkgewogICAgICBsZXQgciA9IHRoaXMucmFuZG9tTnVtKG1pbiwgbWF4KTsKICAgICAgbGV0IGcgPSB0aGlzLnJhbmRvbU51bShtaW4sIG1heCk7CiAgICAgIGxldCBiID0gdGhpcy5yYW5kb21OdW0obWluLCBtYXgpOwogICAgICByZXR1cm4gInJnYigiICsgciArICIsIiArIGcgKyAiLCIgKyBiICsgIikiOwogICAgfSwKICAgIGRyYXdQaWMoKSB7CiAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicy1jYW52YXMiKTsKICAgICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICBjdHgudGV4dEJhc2VsaW5lID0gImJvdHRvbSI7CiAgICAgIC8vIOe7mOWItuiDjOaZrwogICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5yYW5kb21Db2xvcigKICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvck1pbiwKICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvck1heAogICAgICApOwogICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jb250ZW50V2lkdGgsIHRoaXMuY29udGVudEhlaWdodCk7CiAgICAgIC8vIOe7mOWItuaWh+WtlwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaWRlbnRpZnlDb2RlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5kcmF3VGV4dChjdHgsIHRoaXMuaWRlbnRpZnlDb2RlW2ldLCBpKTsKICAgICAgfQogICAgICB0aGlzLmRyYXdMaW5lKGN0eCk7CiAgICAgIHRoaXMuZHJhd0RvdChjdHgpOwogICAgfSwKICAgIGRyYXdUZXh0KGN0eCwgdHh0LCBpKSB7CiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnJhbmRvbUNvbG9yKHRoaXMuY29sb3JNaW4sIHRoaXMuY29sb3JNYXgpOwogICAgICBjdHguZm9udCA9CiAgICAgICAgdGhpcy5yYW5kb21OdW0odGhpcy5mb250U2l6ZU1pbiwgdGhpcy5mb250U2l6ZU1heCkgKyAicHggU2ltSGVpIjsKICAgICAgbGV0IHggPSAoaSArIDEpICogKHRoaXMuY29udGVudFdpZHRoIC8gKHRoaXMuaWRlbnRpZnlDb2RlLmxlbmd0aCArIDEpKTsKICAgICAgbGV0IHkgPSB0aGlzLnJhbmRvbU51bSh0aGlzLmZvbnRTaXplTWF4LCB0aGlzLmNvbnRlbnRIZWlnaHQgLSA1KTsKICAgICAgdmFyIGRlZyA9IHRoaXMucmFuZG9tTnVtKC00NSwgNDUpOwogICAgICAvLyDkv67mlLnlnZDmoIfljp/ngrnlkozml4vovazop5LluqYKICAgICAgY3R4LnRyYW5zbGF0ZSh4LCB5KTsKICAgICAgY3R4LnJvdGF0ZSgoZGVnICogTWF0aC5QSSkgLyAxODApOwogICAgICBjdHguZmlsbFRleHQodHh0LCAwLCAwKTsKICAgICAgLy8g5oGi5aSN5Z2Q5qCH5Y6f54K55ZKM5peL6L2s6KeS5bqmCiAgICAgIGN0eC5yb3RhdGUoKC1kZWcgKiBNYXRoLlBJKSAvIDE4MCk7CiAgICAgIGN0eC50cmFuc2xhdGUoLXgsIC15KTsKICAgIH0sCiAgICBkcmF3TGluZShjdHgpIHsKICAgICAgLy8g57uY5Yi25bmy5omw57q/CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7CiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5yYW5kb21Db2xvcigKICAgICAgICAgIHRoaXMubGluZUNvbG9yTWluLAogICAgICAgICAgdGhpcy5saW5lQ29sb3JNYXgKICAgICAgICApOwogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHgubW92ZVRvKAogICAgICAgICAgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50V2lkdGgpLAogICAgICAgICAgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50SGVpZ2h0KQogICAgICAgICk7CiAgICAgICAgY3R4LmxpbmVUbygKICAgICAgICAgIHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudFdpZHRoKSwKICAgICAgICAgIHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudEhlaWdodCkKICAgICAgICApOwogICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgfQogICAgfSwKICAgIGRyYXdEb3QoY3R4KSB7CiAgICAgIC8vIOe7mOWItuW5suaJsOeCuQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDgwOyBpKyspIHsKICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5yYW5kb21Db2xvcigwLCAyNTUpOwogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHguYXJjKAogICAgICAgICAgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50V2lkdGgpLAogICAgICAgICAgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50SGVpZ2h0KSwKICAgICAgICAgIDEsCiAgICAgICAgICAwLAogICAgICAgICAgMiAqIE1hdGguUEkKICAgICAgICApOwogICAgICAgIGN0eC5maWxsKCk7CiAgICAgIH0KICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgaWRlbnRpZnlDb2RlKCkgewogICAgICB0aGlzLmRyYXdQaWMoKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5kcmF3UGljKCk7CiAgfSwKfTsK"},{"version":3,"sources":["yanzhengma.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"yanzhengma.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"s-canvas\">\n    <canvas\n      id=\"s-canvas\"\n      :width=\"contentWidth\"\n      :height=\"contentHeight\"\n    ></canvas>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"SIdentify\",\n  props: {\n    identifyCode: {\n      type: String,\n      default: \"1234\",\n    },\n    fontSizeMin: {\n      type: Number,\n      default: 25,\n    },\n    fontSizeMax: {\n      type: Number,\n      default: 30,\n    },\n    backgroundColorMin: {\n      type: Number,\n      default: 255,\n    },\n    backgroundColorMax: {\n      type: Number,\n      default: 255,\n    },\n    colorMin: {\n      type: Number,\n      default: 0,\n    },\n    colorMax: {\n      type: Number,\n      default: 160,\n    },\n    lineColorMin: {\n      type: Number,\n      default: 100,\n    },\n    lineColorMax: {\n      type: Number,\n      default: 255,\n    },\n    dotColorMin: {\n      type: Number,\n      default: 0,\n    },\n    dotColorMax: {\n      type: Number,\n      default: 255,\n    },\n    contentWidth: {\n      type: Number,\n      default: 112,\n    },\n    contentHeight: {\n      type: Number,\n      default: 31,\n    },\n  },\n  methods: {\n    // 生成一个随机数\n    randomNum(min, max) {\n      return Math.floor(Math.random() * (max - min) + min);\n    },\n    // 生成一个随机的颜色\n    randomColor(min, max) {\n      let r = this.randomNum(min, max);\n      let g = this.randomNum(min, max);\n      let b = this.randomNum(min, max);\n      return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n    },\n    drawPic() {\n      let canvas = document.getElementById(\"s-canvas\");\n      let ctx = canvas.getContext(\"2d\");\n      ctx.textBaseline = \"bottom\";\n      // 绘制背景\n      ctx.fillStyle = this.randomColor(\n        this.backgroundColorMin,\n        this.backgroundColorMax\n      );\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight);\n      // 绘制文字\n      for (let i = 0; i < this.identifyCode.length; i++) {\n        this.drawText(ctx, this.identifyCode[i], i);\n      }\n      this.drawLine(ctx);\n      this.drawDot(ctx);\n    },\n    drawText(ctx, txt, i) {\n      ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax);\n      ctx.font =\n        this.randomNum(this.fontSizeMin, this.fontSizeMax) + \"px SimHei\";\n      let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1));\n      let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5);\n      var deg = this.randomNum(-45, 45);\n      // 修改坐标原点和旋转角度\n      ctx.translate(x, y);\n      ctx.rotate((deg * Math.PI) / 180);\n      ctx.fillText(txt, 0, 0);\n      // 恢复坐标原点和旋转角度\n      ctx.rotate((-deg * Math.PI) / 180);\n      ctx.translate(-x, -y);\n    },\n    drawLine(ctx) {\n      // 绘制干扰线\n      for (let i = 0; i < 5; i++) {\n        ctx.strokeStyle = this.randomColor(\n          this.lineColorMin,\n          this.lineColorMax\n        );\n        ctx.beginPath();\n        ctx.moveTo(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight)\n        );\n        ctx.lineTo(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight)\n        );\n        ctx.stroke();\n      }\n    },\n    drawDot(ctx) {\n      // 绘制干扰点\n      for (let i = 0; i < 80; i++) {\n        ctx.fillStyle = this.randomColor(0, 255);\n        ctx.beginPath();\n        ctx.arc(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight),\n          1,\n          0,\n          2 * Math.PI\n        );\n        ctx.fill();\n      }\n    },\n  },\n  watch: {\n    identifyCode() {\n      this.drawPic();\n    },\n  },\n  mounted() {\n    this.drawPic();\n  },\n};\n</script>\n<style scoped>\n.s-canvas {\n  height: 38px;\n}\n.s-canvas canvas {\n  margin-top: 1px;\n  margin-left: 8px;\n}\n</style>\n"]}]}